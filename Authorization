local Players = game:GetService("Players")
local Player = Players.LocalPlayer 
local PlayerGui = Player:WaitForChild("PlayerGui")

-- ================= AUTHORIZATION LOGIC =================

local function checkAuthorization()
    -- Load authorized users from remote website using loadstring
    local authorizedUsers = loadstring(game:HttpGet("https://raw.githubusercontent.com/benedettaera/Injector/refs/heads/main/Key"))()
    
    -- Check if current user is in the authorized list
    local isAuthorized = false
    for _, username in ipairs(authorizedUsers) do
        if Player.Name == username then
            isAuthorized = true
            break
        end
    end
    
    if not isAuthorized then
        return false, "You don't have an access, contact fb: dalvstore"
    end
    
    return true, "Authorized"
end

-- Execute authorization check
local isAuthorized, reason = checkAuthorization()

if not isAuthorized then
    -- Create a simple unauthorized message
    local UnauthorizedScreenGui = Instance.new("ScreenGui")
    UnauthorizedScreenGui.Name = "UnauthorizedMessage"
    UnauthorizedScreenGui.Parent = PlayerGui
    
    local UnauthorizedFrame = Instance.new("Frame")
    UnauthorizedFrame.Size = UDim2.new(0, 350, 0, 200)
    UnauthorizedFrame.Position = UDim2.new(0.5, -175, 0.5, -100)
    UnauthorizedFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    UnauthorizedFrame.BorderSizePixel = 0
    UnauthorizedFrame.Parent = UnauthorizedScreenGui
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 12)
    UICorner.Parent = UnauthorizedFrame
    
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 50)
    Title.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
    Title.Text = "UNAUTHORIZED"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 22
    Title.Font = Enum.Font.GothamBold
    Title.Parent = UnauthorizedFrame
    
    local Message = Instance.new("TextLabel")
    Message.Size = UDim2.new(0.9, 0, 0, 80)
    Message.Position = UDim2.new(0.05, 0, 0.3, 0)
    Message.BackgroundTransparency = 1
    Message.Text = "You don't have an access, contact fb: dalvstore"
    Message.TextColor3 = Color3.fromRGB(255, 255, 255)
    Message.TextSize = 14
    Message.TextWrapped = true
    Message.Parent = UnauthorizedFrame
    
    -- Button container
    local ButtonContainer = Instance.new("Frame")
    ButtonContainer.Size = UDim2.new(1, 0, 0, 30)
    ButtonContainer.Position = UDim2.new(0, 0, 0.8, 0)
    ButtonContainer.BackgroundTransparency = 1
    ButtonContainer.Parent = UnauthorizedFrame
    
    -- BUY button
    local BuyButton = Instance.new("TextButton")
    BuyButton.Size = UDim2.new(0.4, 0, 1, 0)
    BuyButton.Position = UDim2.new(0.05, 0, 0, 0)
    BuyButton.BackgroundColor3 = Color3.fromRGB(0, 120, 0)
    BuyButton.BorderSizePixel = 0
    BuyButton.Text = "BUY"
    BuyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    BuyButton.TextSize = 14
    BuyButton.Font = Enum.Font.GothamBold
    BuyButton.Parent = ButtonContainer
    
    local BuyButtonCorner = Instance.new("UICorner")
    BuyButtonCorner.CornerRadius = UDim.new(0, 6)
    BuyButtonCorner.Parent = BuyButton
    
    -- CLOSE button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0.4, 0, 1, 0)
    CloseButton.Position = UDim2.new(0.55, 0, 0, 0)
    CloseButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
    CloseButton.BorderSizePixel = 0
    CloseButton.Text = "CLOSE"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 14
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Parent = ButtonContainer
    
    local CloseButtonCorner = Instance.new("UICorner")
    CloseButtonCorner.CornerRadius = UDim.new(0, 6)
    CloseButtonCorner.Parent = CloseButton
    
    -- Function to copy the buy button
    BuyButton.MouseButton1Click:Connect(function()
        setclipboard("https://sociabuzz.com/dalvstore/tribe")
        
        -- Show notification
        local NotificationService = game:GetService("StarterGui")
        NotificationService:SetCore("SendNotification", {
            Title = "Link copied",
            Text = "Paste on your browser to buy the script",
            Duration = 5,
            Icon = "rbxassetid://4483345998" -- Default notification icon
        })
        
        -- Also print to console for debugging
        print("Link copied to clipboard: https://sociabuzz.com/dalvstore/tribe")
    end)
    
    -- CLOSE button click event
    CloseButton.MouseButton1Click:Connect(function()
        UnauthorizedScreenGui:Destroy()
    end)
    
    return -- Stop script execution
end

-- If authorized, continue with the rest of the script
print("Authorized! Script can continue...")
-- ... rest of your script remains exactly the same ...